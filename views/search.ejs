<%- include('./partials/header') %>

<div class="pt-24 px-10">
  <h2 class="text-2xl font-semibold mb-5 text-[#48606E]">
    Search results for "<%= query %>"
  </h2>

  <% if (error) { %>
    <p class="text-red-500"><%= error %></p>
  <% } else if (products.length === 0) { %>
    <p class="text-gray-600">No products found.</p>
  <% } else { %>
    <div class="grid grid-cols-4 gap-6">
      <% products.forEach(p => { %>
        <div class="border rounded-lg shadow hover:shadow-lg transition overflow-hidden bg-white">
          <img src="data:image/jpeg;base64,<%= p.image.toString('base64') %>" class="h-52 w-full object-cover" alt="<%= p.name %>">
          <div class="p-4">
            <h3 class="text-lg font-semibold"><%= p.name %></h3>
            <p class="text-gray-600 mt-1">â‚¹ <%= p.price %></p>
            <a href="/product/<%= p._id %>" class="block mt-3 bg-[#48606E] text-white py-2 text-center rounded-md hover:bg-[#3a505d]">
              View Details
            </a>
          </div>
        </div>
      <% }) %>
    </div>
  <% } %>
</div>

<%- include('./partials/footer') %>
